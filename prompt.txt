Создай полнофункциональный Python-скрипт для генерации PDF-документов с удобным CLI-интерфейсом.

ТРЕБОВАНИЯ К СКРИПТУ:

1. СТРУКТУРА ПАПОК:
   - /data - для исходных файлов (CSV/JSON)
   - /templates - для HTML-шаблонов
   - /output - для готовых PDF
   - Автоматическое создание папок при их отсутствии

2. ЧТЕНИЕ ДАННЫХ:
   - Рекурсивный поиск всех CSV и JSON файлов в /data
   - CSV: парсинг с помощью pandas (приоритет) или csv
   - JSON: стандартная библиотека json
   - Поддержка вложенных структур в JSON

3. РАБОТА С ШАБЛОНАМИ:
   - Поиск всех .html файлов в /templates
   - Поддержка плейсхолдеров в формате {{ field_name }}
   - Проверка валидности HTML

4. ИНТЕРАКТИВНЫЙ ИНТЕРФЕЙС:

=== PDF ГЕНЕРАТОР ===

Доступные файлы данных:
[1] products.csv
[2] invoices.json
[3] orders.csv

Выберите файл (1-3): _


5. ФУНКЦИОНАЛ ВЫБОРА:
- Нумерованный список файлов и шаблонов
- Предпросмотр структуры данных выбранного файла
- Вывод списка записей с идентификаторами
- Валидация пользовательского ввода

6. ГЕНЕРАЦИЯ PDF:
- Использование WeasyPrint для рендеринга
- Поддержка кириллицы (шрифты: DejaVu Sans, Roboto, Arial)
- CSS для качественного отображения таблиц и текста
- Автоматический расчет производных полей (итоги, суммы)

7. ФОРМАТ ВЫВОДА:
- Сохранение в /output с понятным именем
- Имя файла: {шаблон}_{id}_{дата}.pdf
- Автоматическое открытие в системном просмотрщике

8. ОБРАБОТКА ОШИБОК:
- Корректная обработка отсутствующих файлов
- Валидация структуры данных
- Проверка соответствия полей шаблона и данных
- Информативные сообщения об ошибках

ТЕХНИЧЕСКИЕ ТРЕБОВАНИЯ:
- Кросс-платформенность (Windows/macOS/Linux)
- Использование virtual environment
- requirements.txt с зависимостями
- Подробное логирование процесса
- Возможность расширения функционала

ПРИМЕР РАБОТЫ:
1. Пользователь выбирает CSV-файл с товарами
2. Выбирает шаблон "product_card.html"
3. Видит список товаров с ID
4. Выбирает товар -> генерируется PDF-карточка
5. PDF автоматически открывается

ДОПОЛНИТЕЛЬНО:
- Добавь обработку различных форматов дат
- Реализуй возможность генерации всех документов сразу
- Добавь прогресс-бар для массовой генерации
- Поддержка кастомных CSS-стилей